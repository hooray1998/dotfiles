# 常用Linux命令

[目录](.)
1. chmod
1. chown
1. df
1. du
1. ln
1. date命令
1. cal命令
1. 其他命令
`ps -aux | grep "test.sh"  	a:显示所有程序 u:以用户为主的格式来显示 x:显示所有程序，不以终端机来区分`
1. 常用linux命令
	1. 查找



### chmod

属性中第1个字符表示该文件的类型

- d（目录）
- b（块设备）
- c（字符设备文件）
- -（普通文件）
- l（链接文件）

设置文件权限

 
> 格式1: chmod [ugoa][+-=][rwx] filename/dirname

> 格式2: chmod nnn filename


**例子**

- chmod a-rx linux.md
- chmod o+rw linux.md
- chmod a-rwx linux.md
- chmod a=rwx,go-wx linux.md
- chmod u-x linux.md
- chmod a=rx linux.md  <=> chmod 555 linux.md

字母|含义
:-|:-
a|所有用户
u|文件所有者
g|用户所在的组
o|其他用户

字符|含义
:-|:-
+|增加
-|去除
=|设置


### chown

chown将指定文件的拥有者改为指定的用户或组
用户可以是用户名或者用户ID；组可以是组名或者组ID

实例：

1. 改变拥有者和群组 并显示改变信息
	- `chown -c mail:mail log2012.log`
2. 改变文件群组
	- `chown  :mail t.log`
3. 改变文件夹及子文件目录属主及属组为mail
	- `chown -R mail: test/`


### df

**显示磁盘空间使用情况。** <br>
获取硬盘被占用了多少空间，目前还剩下多少空间等信息

- -a 全部文件系统列表
- -h 以方便阅读的方式显示信息
- -i 显示inode信息
- -k 区块为1024字节
- -l 只显示本地磁盘
- -T 列出文件系统类型

### du

**du命令是对文件和目录磁盘使用的空间的查看**

- -d number 最大深度
- -a 显示目录中所有文件大小
- -k 以KB为单位显示文件大小
- -m 以MB为单位显示文件大小
- -g 以GB为单位显示文件大小
- -h 以易读方式显示文件大小
- -s 仅显示总计
- -c或--total  除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和


实例：

1. 以易读方式显示深度为1的文件夹大小
	- `du -hd 1 ./`
2. 以易读方式显示文件夹内所有文件大小
	- `du -ah ./`
3. 显示几个文件或目录各自占用磁盘空间的大小，还统计它们的总和
	- `du -hc test/ scf/`

### ln

功能是为文件在另外一个位置建立一个同步的链接，当在不同目录需要该问题时，就不需要为每一个目录创建同样的文件，通过ln创建的链接（link）减少磁盘占用量。

软链接：

1. 软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式
2. 软链接可以 跨文件系统 ，硬链接不可以
3. 软链接可以对一个不存在的文件名进行链接
4. 软链接可以对目录进行链接

硬链接:

1. 硬链接，以文件副本的形式存在。但不占用实际空间。
2. 不允许给目录创建硬链接
3. 硬链接只有在同一个文件系统中才能创建

- -b 删除，覆盖以前建立的链接
- -s 软链接（符号链接）
- -v 显示详细处理过程


### date命令

显示或设定系统的日期与时间

命令参数：

- -d<字符串> 　显示字符串所指的日期与时间。字符串前后必须加上双引号。
- -s<字符串> 　根据字符串来设置日期与时间。字符串前后必须加上双引号。
- -u 　显示GMT。

字符串|含义
:-|:-
%H|小时(00-23)
%I|小时(00-12)
%M|分钟(以00-59来表示)
%s|总秒数。起算时间为1970-01-01 00:00:00 UTC。
%S|秒(以本地的惯用法来表示)
%a|星期的缩写。
%A|星期的完整名称。
%d|日期(以01-31来表示)。
%D|日期(含年月日)。
%m|月份(以01-12来表示)。
%y|年份(以00-99来表示)。
%Y|年份(以四位数来表示)。

实例：

显示下一天
`date +%Y%m%d --date="+1 day"  //显示下一天的日期`

-d参数使用

- date -d "nov 22"  今年的 11 月 22 日是星期三
- date -d '2 weeks' 2周后的日期
- date -d 'next monday' (下周一的日期)
- date -d next-day +%Y%m%d（明天的日期）或者：date -d tomorrow +%Y%m%d
- date -d last-day +%Y%m%d(昨天的日期) 或者：date -d yesterday +%Y%m%d
- date -d last-month +%Y%m(上个月是几月)
- date -d next-month +%Y%m(下个月是几月)

### cal命令
可以用户显示公历（阳历）日历如只有一个参数，则表示年份(1-9999)，如有两个参数，则表示月份和年份

常用参数：

- -3 显示前一月，当前月，后一月三个月的日历
- -m 显示星期一为第一列
- -j 显示在当前年第几天
- -y [year]显示当前年[year]份的日历

实例：

1. 显示指定年月日期
	- `cal 9 2012`
2. 显示2013年每个月日历
	- `cal -y 2013`
3. 将星期一做为第一列,显示前中后三月
	- `cal -3m`

### 其他命令

命令|功能
:-|:-
grep | 全局正则表达式搜索
wc | 统计指定的文件中字节数c、字数w、行数l、字符数m
ps | 用来查看当前运行的进程状态
top | 动态显示当前系统正在执行的进程的相关信息
kill | 强制结束进程(使用ps命令或者jobs 命令可以查看进程号)
free | 显示系统内存使用情况



#### 常用linux命令


##### 查找
find
find ~ -name "*qt*"
sudo find / -size 1G //大小为1G
其他选项：


-mtime -n +n

eg.	find ~ -mtime -1 一天之内修改过的文件
按照文件的更改时间来查找文件， - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。
-newer file1 ! file2
查找更改时间比文件file1新但比文件file2旧的文件。
-mount：在查找文件时不跨越文件系统mount点。 加在所有选项前面
locate(　强大　）

sudo updatedb


手动更新数据库。

locate /etc/sh
搜索etc目录下所有以sh开头的文件。
locate -i ~/m
搜索用户主目录下，所有以m开头的文件，并且忽略大小写。

which命令

which executeable_name
查找可执行文件，根据可执行文件的文件名。
例如 which apache2 ， 返回/usr/sbin/apache2
grep 命令（内容查找）
grep -n open ~/Coding/pythonCoding/produce1.py 
返回包含该字符串“ｏｐｅｎ”的行，　并显示行号


### 查看端口情况

netstat -anp|grep 8090
最后一项是对应的进程和进程号
kill -9  进程号



统计某文件夹下文件的个数
ls -l |grep "^-"|wc -l

统计某文件夹下目录的个数
ls -l |grep "^ｄ"|wc -l

统计文件夹下文件的个数，包括子文件夹里的
ls -lR|grep "^-"|wc -l

如统计/home/han目录(包含子目录)下的所有js文件则：
ls -lR /home/han|grep js|wc -l 或 ls -l "/home/han"|grep "js"|wc -l

统计文件夹下目录的个数，包括子文件夹里的
ls -lR|grep "^d"|wc -l
说明：
ls -lR
长列表输出该目录下文件信息(R代表子目录注意这里的文件，不同于一般的文件，可能是目录、链接、设备文件等)

grep "^-"
这里将长列表输出信息过滤一部分，只保留一般文件，如果只保留目录就是 ^d

wc -l
统计输出信息的行数，因为已经过滤得只剩一般文件了，所以统计结果就是一般文件信息的行数，又由于一行信息对应一个文件，所以也就是文件的个数。
 

 

＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

如果只查看文件夹
ls -d  只能显示一个.
find -type d    可以看到子文件夹
ls -lF |grep /    或 ls -l |grep '^d'  只看当前目录下的文件夹，不包括往下的文件夹

